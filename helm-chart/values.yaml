# Default values for helm-chart.
appName: syncbyte-agent
replicaCount: 1

image:
  repository: syncbyte
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: "latest"
command:
  - /usr/local/bin/syncbyte-agent
  - run
resources:
  limits:
    cpu: 100m
    memory: 128Mi
  requests:
    cpu: 100m
    memory: 128Mi
service:
  enabled: true
  type: ClusterIP
  port: 50051

ingress:
  enabled: false
  className: ""
  annotations:
    {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: chart-example.local
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

volumes:
  - name: datavol
    emptyDir: {}
  - name: logvol
    emptyDir: {}
  - name: confvol
    configMap:
      name: agentconfigmap
      items:
        - key: agent.toml
          path: agent.toml

volumeMounts:
  - name: datavol
    mountPath: /var/syncbyte/data
  - name: logvol
    mountPath: /var/syncbyte/log
  - name: confvol
    mountPath: /etc/syncbyte"

config:
  name: agentconfigmap
  value: |
    [core]
    grpc_addr = '0.0.0.0:50051'
    log_level = 'debug'
    log_path = '/var/syncbyte/log'

    [storage]
    nas_volume_mountpoint = '/var/syncbyte/data'
    type = 'nas'
